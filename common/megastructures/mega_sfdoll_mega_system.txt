#人工黑洞基址
sfdoll_mega_system_1 ={
	entity = "construction_platform_entity"
	construction_entity = "construction_platform_entity"
	show_galactic_map_icon = yes
	place_entity_on_planet_plane = no
	build_outside_gravity_well = yes
	build_time = 360
	construction_blocks_and_blocked_by = multi_stage_type
	potential = {	owner = {	has_authority = auth_gf_sfdoll	} is_ai = no	}
	show_prereqs = yes
	prerequisites = {	tech_sfdoll_mega_system	}
	possible = {
		exists = starbase
		custom_tooltip = {
			fail_text = "requires_inside_border"
			is_inside_border = from
		}
		custom_tooltip = {
			fail_text = "requires_surveyed_system"
			NOT = {
				any_system_planet = {
					is_surveyed = {
						who = prev.from
						status = no
					}
				}
			}
		}
	}

	resources = {
		category = megastructures_habitat
		cost = {
			alloys = 10000
			unity = 1000
			nanites = 1000
			sr_dark_matter = 1000
			GF_nyto_collapse_liquid = 1000
		}
	}
	#Solar System scope, FROM = builder empire, FROMFROM = the megastructure
	on_build_complete = {
		from = {
			#set_country_flag = has_built_or_repaired_megastructure
			create_message = {
				type = MEGASTRUCTURE_BUILT
				localization = "sfdoll_mega_system_1"
				days = 30
				target= prev
			}
		}
	}
	ai_weight = { weight = -50 }
}

sfdoll_mega_system_2 ={
	entity = "construction_platform_entity"
	construction_entity = "construction_platform_entity"
	show_galactic_map_icon = yes
	portrait = "GFX_sfdoll_habitat_01"
	place_entity_on_planet_plane = no
	build_time = 360
	construction_blocks_and_blocked_by = multi_stage_type
	potential = {	owner = {	has_authority = auth_gf_sfdoll	}}
	upgrade_from = {	sfdoll_mega_system_1 }

	resources = {
		category = megastructures_habitat
		cost = {
			alloys = 10000
			unity = 1000
			nanites = 1000
			sr_dark_matter = 1000
			GF_nyto_collapse_liquid = 1000
		}
	}
	#Solar System scope, FROM = builder empire, FROMFROM = the megastructure
	on_build_complete = {
		# 人工星系
		spawn_system = {
			initializer = sfdoll_system_mega_world
			hyperlane = no
			is_discovered = yes
			max_distance = 10
			min_distance = 30
			effect = {
				set_surveyed = {	surveyed = yes	}
				add_hyperlane = {	from = THIS	to = root	}
				create_starbase = {
					size = starbase_outpost
					effect = { set_owner = root.owner }
				}
				from = {
					create_message = {
						type = MEGASTRUCTURE_BUILT
						localization = "sfdoll_mega_system_2_complete"
						days = 30
						target = prev
					}
				}
			}
		}
		from = { set_country_flag = has_built_or_repaired_megastructure }
		fromfrom = {	remove_megastructure = this	}
	}
	ai_weight = { weight = -50 }
}

# mega_sfdoll_rw_unhabitable_1 = {
# 	entity = "ringworld_3x_seams_entity"
# 	portrait = "GFX_megastructure_construction_background"
# 	upgrade_from = { sfdoll_mega_system_02 }
# 	# used from script only
# 	upgrade_desc = hide
# 	potential = { always = no }
# }